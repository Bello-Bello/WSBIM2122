# The shell {#sec:cli}

This chapter is based on the Data Carpentries [The Unix
Shell](https://swcarpentry.github.io/shell-novice/) and [Introduction
to the Command Line for
Genomics](https://datacarpentry.org/shell-genomics/) lessons.

## Introduction

Questions

- What is a command shell and why would I use one?
- How can I move around on my computer?
- How can I see what files and directories I have?
- How can I specify the location of a file or directory on my computer?

Objectives

- Describe key reasons for learning shell.
- Navigate your file system using the command line.
- Access and read help files for bash programs and use help files to identify useful command options.
- Demonstrate the use of tab completion, and explain its advantages.


### What is a shell and why should I care? {-}

A shell is a computer program that presents a command line interface
which allows you to control your computer using commands entered with
a keyboard instead of controlling graphical user interfaces (GUIs)
with a mouse/keyboard combination.

There are many reasons to learn about the shell:

- Many bioinformatics tools can only be used through a command line
  interface, or have extra capabilities in the command line version
  that are not available in the GUI. This is true, for example, of
  [BLAST](https://blast.ncbi.nlm.nih.gov/Blast.cgi), which offers many
  advanced functions only accessible to users who know how to use a
  shell.
- In bioinformatics you often need to do the same set of tasks with a
  large number of files. Learning the shell will allow you to automate
  those repetitive tasks and leave you free to do more exciting
  things.
- The shell makes your work less error-prone. When humans do the same
  thing a hundred different times (or even ten times), they’re likely
  to make a mistake. Your computer can do the same thing a thousand
  times with no mistakes.
- The shell makes your work more reproducible. When you carry out your
  work in the command-line (rather than a GUI), your computer keeps a
  record of every step that you’ve carried out, which you can use to
  re-do your work when you need to. It also gives you a way to
  communicate unambiguously what you’ve done, so that others can check
  your work or apply your process to new data.
- Many bioinformatic tasks require large amounts of computing power
  and can’t realistically be run on your own machine. These tasks are
  best performed using powerfull remote computers or cloud computing,
  which can only be accessed through a shell.

In this lesson you will learn how to use the command line interface to
move around in your file system.

### How to access the shell {-}

On a Mac or LiOn a Mac or Linux machine, you can access a shell
through a program called Terminal, which is already available on your
computer. If you’re using Windows, you’ll need to download a separate
program to access the shell.nux machine, you can access a shell
through a program called Terminal, which is already available on your
computer. If you’re using Windows, you can install a [Windows
Subsystem for
Linux](https://docs.microsoft.com/en-us/windows/wsl/install-win10). We
are going to the use RStudio Terminal.

```{r, echo=FALSE, fig.align='center', out.width='50%'}
knitr::include_graphics("figs/rstudio_terminal.png")
```

At any point, you can use the `clear` command or the `Ctrl+L` keyboard
shortcut to clear the screen.


### The Shell {-}

The shell is a program where users can type commands. With the shell,
it’s possible to invoke complicated programs like climate modeling
software or simple commands that create an empty directory with only
one line of code. The most popular Unix shell is Bash (the Bourne
Again SHell — so-called because it’s derived from a shell written by
Stephen Bourne). Bash is the default shell on most modern
implementations of Unix and in most packages that provide Unix-like
tools for Windows.

When the shell is first opened, you are presented with a prompt,
indicating that the shell is waiting for input.

```
$
```

The shell typically uses $ as the prompt, but may use a different
symbol. In the examples for this lesson, we’ll show the prompt as $
. Most importantly: when typing commands, either from these lessons or
from other sources, do not type the prompt, only the commands that
follow it.

So let’s try our first command, `ls` which is short for listing. This
command will list the contents of the current directory:

```
$ ls
Desktop     Downloads   Movies      Pictures
Documents   Library     Music       Public
```

If the shell can’t find a program whose name is the command you typed,
it will print an error message such as:

```
$ ks
ks: command not found
```


## Navigating Files and Directories

Questions

- How can I perform operations on files outside of my working directory?
- What are some navigational shortcuts I can use to make my work more efficient?

Objectives

- Use a single command to navigate multiple steps in your directory
  structure, including moving backwards (one level up).
- Perform operations on files in directories outside your working directory.
- Work with hidden directories and hidden files.
- Interconvert between absolute and relative paths.
- Employ navigational shortcuts to move around your file system.

## Working with Files and Directories

Questions

- How can I view and search file contents?
- How can I create, copy and delete files and directories?
- How can I control who has permission to modify a file?
- How can I repeat recently used commands?

Objectives

- View, search within, copy, move, and rename files. Create new directories.
- Use wildcards (`*`) to perform operations on multiple files.
- Make a file read only.
- Use the `history` command to view and repeat recently used commands.


## Writing Scripts and Working with Data

Questions

- How can we automate a commonly used set of commands?

Objectives

- Use the nano text editor to modify text files.
- Write a basic shell script.
- Use the bash command to execute a shell script.
- Use chmod to make a script an executable program.


## References

- The Data Carpentries [The Unix
  Shell](https://swcarpentry.github.io/shell-novice/) and
  [Introduction to the Command Line for
  Genomics](https://datacarpentry.org/shell-genomics/) lessons.

- [Introduction to
  Unix](https://bioinformaticsworkbook.org/Appendix/Unix/unix-basics-1.html#gsc.tab=0)